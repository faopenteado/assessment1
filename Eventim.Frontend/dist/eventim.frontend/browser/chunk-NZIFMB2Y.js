import{a as B}from"./chunk-QUKZKLEJ.js";import{a as q}from"./chunk-5PHZXZNU.js";import{a as G,b as c,c as P,d as j,e as w,f as M,g as D,h as O,i as k,j as A,k as T,l as V,m as _}from"./chunk-DVSPLOIY.js";import{A as n,B as r,C as h,D as x,F as S,H as s,J as b,S as N,V as E,Y as F,_ as y,ca as g,i as a,m as I,n as l,t as d,u as m,x as C,y as f}from"./chunk-E7HQOLS5.js";function J(t,e){if(t&1&&(n(0,"option",12),s(1),r()),t&2){let v=e.$implicit;S("value",v.id),d(),b(" ",v.name," ")}}var $=(()=>{let e=class e{constructor(o,i,p,u,H){this.route=o,this.formBuilder=i,this.router=p,this.expensesService=u,this.groupPeopleService=H,this.groupId=0,this.people=[],this.expenseForm=this.formBuilder.group({expensesGroupPeopleId:[0,[c.required]],description:["",[c.required]],amount:[0,[c.required]]}),this.expense={expensesGroupPeopleId:0,expensesGroupsId:this.groupId,description:"",amount:0,date:new Date,expensesGroupsName:"",id:0,peopleName:""}}onCancel(){this.router.navigate(["/group-detail/"+this.groupId])}ngOnInit(){this.route.params.subscribe(o=>{this.groupId=o.id}),this.getPeople(this.groupId)}save(){this.expense=this.expenseForm.value,this.expense.expensesGroupsId=this.groupId,this.expense.date=new Date,this.expensesService.addExpense(this.expense).subscribe({next:o=>{this.router.navigate(["/group-detail/"+this.groupId])},error:o=>{console.log(o.message),alert(o.message)}})}getPeople(o){this.groupPeopleService.getPeopleOnGroup(this.groupId).subscribe({next:i=>{this.people=i},error:i=>{alert(i.message)}})}};e.\u0275fac=function(i){return new(i||e)(m(F),m(T),m(y),m(B),m(q))},e.\u0275cmp=I({type:e,selectors:[["app-create-expense"]],inputs:{expense:"expense"},decls:24,vars:2,consts:[[1,"container",3,"formGroup"],[1,"row"],[1,"mt-15"],[1,"row","mb-15","mt-15"],[1,"label"],["formControlName","expensesGroupPeopleId",1,"dropdownlist"],["value","-"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","description",1,"text-box"],["type","number","formControlName","amount",1,"text-box"],[1,"btn","gap-1",3,"click"],[1,"btn","btn-cancel","gap-1",3,"click"],[3,"value"]],template:function(i,p){i&1&&(n(0,"div",0)(1,"div",1)(2,"h3",2),s(3,"Add new people"),r()(),n(4,"div",3)(5,"span",4),s(6,"Person: "),r(),n(7,"select",5)(8,"option",6),s(9,"-"),r(),C(10,J,2,2,"option",7),r()(),n(11,"div",3)(12,"span",4),s(13,"Description: "),r(),h(14,"input",8),r(),n(15,"div",3)(16,"span",4),s(17,"Amount: "),r(),h(18,"input",9),r(),n(19,"div",1)(20,"button",10),x("click",function(){return p.save()}),s(21,"Save"),r(),n(22,"button",11),x("click",function(){return p.onCancel()}),s(23,"Cancel"),r()()()),i&2&&(f("formGroup",p.expenseForm),d(10),f("ngForOf",p.people))},dependencies:[N,k,A,G,w,O,P,j,M,D]});let t=e;return t})();var K=[{path:"",component:$}],z=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({imports:[g.forChild(K),g]});let t=e;return t})();var me=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l({type:e}),e.\u0275inj=a({imports:[E,z,V,_]});let t=e;return t})();export{me as CreateExpenseModule};
